<template id="template-basket">{{~it.products:value:index}}<div><span>{{=value.name}}</span> <span><button onclick="adjustCart({{=index}}, -1)">-</button> <span>{{=value.quantity}}</span> <button onclick="adjustCart({{=index}}, 1)">+</button></span> <span>{{=(value.price * value.quantity).toFixed(2)}}</span></div>{{~}}<div><span>Total: {{=(it.total).toFixed(2)}} â‚¬</span></div></template><div id="output-basket"></div><script>function adjustCart(t,e){Z.basket.products[t].quantity+=e,Z.basket.products[t].quantity||Z.basket.products.splice(t,1),Z.basket.update()}!function(){var t=doT.template(document.getElementById("template-basket").innerHTML);document.getElementById("output-basket").innerHTML=t(Z.basket)}()</script>