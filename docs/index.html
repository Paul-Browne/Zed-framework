<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#ffffff"><meta name="description" content="Zed.js is a templateless micro frontend framework. It handles the rendering, updating and state management of your html components in only 1Kb"><title>Zed.js | micro framework</title><link rel="stylesheet" href="css/prism.css"><style type="text/css">body{margin:10px auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";max-width:960px;padding:0 10px}img{margin:0 auto;display:block;animation-name:hue;animation-duration:36s}.center{text-align:center}.wb-ba{word-break:break-all!important;white-space:normal!important}.zed{padding:13px;border:1px dashed #000;border-radius:6px}p code{background:#333;color:#fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;border-radius:4px;padding:.05rem .3rem;font-size:13px}@keyframes hue{from{filter:hue-rotate(0)}to{filter:hue-rotate(360deg)}}</style></head><body><img src="images/Zed.png" height="100"><h1 class="center">Zed.js</h1><h3 class="center">Zed.js is a templateless micro frontend framework.<br>It handles the rendering, updating and state management of your html components in only 1Kb</h3><pre class="language-html"><code class="wb-ba">&lt;script>!function(e,i){if(!e.Z){var r={};function u(e,n){if("data"in e&&"render"in e){Z[n.key]=f(e.data)?JSON.parse(e.data):e.data,n.before&&n.before();var r=e.render;if(f(e.render)){n.inner&&(n.inner.innerHTML=r),n.outer&&(n.outer.outerHTML=r);for(var t=(new DOMParser).parseFromString(r,"text/html").querySelectorAll("SCRIPT"),a=0;a&lt;t.length;a++){var o=i.createElement("SCRIPT");t[a].src?o.src=t[a].src:o.innerHTML=t[a].innerHTML,i.head.appendChild(o)}}else n.inner&&(n.inner.innerHTML=r()),n.outer&&(n.outer.outerHTML=r());n.after&&n.after()}}function f(e){return"string"==typeof e}e.Z={update:function(e,n){r[e]&&(r[e].f(n),r[e].l.forEach(function(e){e()}))},mount:function(o,e){o.key&&!e&&(r[o.key]={l:[],f:function(e){for(var n in e)o[n]=e[n];Z.mount(o,!0)}});var i={};["data","render"].forEach(function(e){var n,r,t,a;f(o[e])?(n=i,r=o,t=e,(a=new XMLHttpRequest).onreadystatechange=function(){4==a.readyState&&200==a.status&&(n[t]=a.responseText,u(n,r))},a.open("GET",r[t],!0),a.send()):i[e]=o[e]}),u(i,o)},watch:function(e,n){r[e]&&r[e].l.push(n)}}}}(window,document);&lt;/script></code></pre><p>or include from a cdn</p><div><pre class="language-html"><code>&lt;script src="https://cdn.jsdelivr.net/npm/zedjs">&lt;/script></code></pre><pre class="language-html"><code>&lt;script src="https://unpkg.com/zedjs">&lt;/script></code></pre></div><br><a class="github-button" href="https://github.com/paul-browne/Zed-framework" data-icon="octicon-star" data-size="large" aria-label="Star paul-browne/Zed-framework on GitHub">Star on GitHub</a><br><h1>Mount</h1><pre><code class="language-js">Z.mount({
    key: string, // to update the component or if using data
    inner: DOM node, // to render inside of
    outer: DOM node, // for render to replace
    before: function(), // fired before the render
    render: function() or string "path/to/resource.html", 
    after: function(), // fired after the render
    data: JSON or string "path/to/resource.json" // requires key
})</code></pre><h2>render:</h2><p>The simplest <code>Z.mount()</code> will insert the contents of <code>render:</code> into the <code>inner:</code> DOM element.</p><pre><code class="language-js">Z.mount({
    render: function(){
        return "&lt;h1>Hello world!&lt;/h1>";
    },
    inner: document.getElementById("insert-here")
})</code></pre><p>You can alternatively pass a string to <code>render:</code> which will be interpreted as a path to the HTML resource.</p><pre><code class="language-js">Z.mount({
    render: "path/to/component.html",
    inner: document.getElementById("insert-here")
})</code></pre><h2>inner: and outer:</h2><p><code>inner:</code> and <code>outer:</code> are DOM node references that are used as the entry point for the <code>render:</code></p><p>The only difference is that the contents of <code>render:</code> will be placed inside the <code>inner:</code> DOM node, but will entirely replace the <code>outer:</code> DOM node.</p><p>NOTE: when you use <code>outer:</code> it will not be possible to update that component.</p><h2>before: and after:</h2><p><code>before:</code> and <code>after:</code> are functions that will be executed before and after the <code>render:</code></p><pre><code class="language-js">Z.mount({
    before: function(){
      console.log("fires before the render");
      return ...
    },    
    render: "path/to/component.html",
    after: function(){
      console.log("fires after the render");
      return ...
    },
    inner: document.getElementById("insert-here")
})</code></pre><h2>key:</h2><p>A <code>key:</code> is required if you are updating a component, or if you are associating some <code>data:</code> with that component.</p><h2>data:</h2><p>You can also add some <code>data:</code> to the <code>render:</code>, in the following example the array <code>["bar", "baz", "buff"]</code> will be available globally as <code>Z.foo</code> before the <code>render:</code></p><p><code>data:</code> is also available for the <code>before:</code> function</p><pre><code class="language-js">Z.mount({
    key: "foo",
    render: "path/to/component.html",
    inner: document.getElementById("insert-here"),
    data: ["bar", "baz", "buff"]
})</code></pre><p>Again, you can pass a string to <code>data:</code> to use an external resource for the data.</p><pre><code class="language-js">Z.mount({
    key: "foo",
    render: "path/to/component.html",
    inner: document.getElementById("insert-here"),
    data: "path/to/data.json"
})</code></pre><h2>Renderless (data only) components</h2><p>"Dumb" components do not render anything. They are basically just used as a global placeholder for data</p><pre><code class="language-js">Z.mount({
    key: "foo",
    data: "path/to/data.json"
})</code></pre><h1>Update</h1><pre><code class="language-js">Z.update("key", {
    before: function(), // update the "before" function
    render: function() or string "path/to/resource.html", // update the render
    after: function(), // update the "after" function
    data: JSON or string "path/to/resource.json" // update the data
})</code></pre><p>To update a component, with no new methods, simply do the following.</p><p></p><pre><code class="language-js">Z.update("foo")</code></pre><p>To update a component with new <code>data:</code></p><p>This will re-render the component with the new <code>Z.foo</code> array.</p><pre><code class="language-js">Z.update("foo", {
    data: ["lorem", "ipsum", "dolor"]
})</code></pre><p>You can also re-render with a new HTML component.</p><pre><code class="language-js">Z.update("foo", {
    render: "path/to/new-component.html"
})</code></pre><p>and you could also pass new <code>before:</code> and/or <code>after:</code> functions.</p><pre><code class="language-js">Z.update("foo", {
    before: null,
    after: function(){
      console.log("after");
    }
})</code></pre><h1>Watch</h1><p>You can <code>Z.watch()</code> to a component for when it's updated.</p><pre><code class="language-js">Z.watch("foo", function(){
      console.log("foo updated!");
})</code></pre><h2>Demos</h2><h3>Counter Demo</h3><h4>view <a href="demos/counter">live</a> version</h4><pre><code class="language-html">&lt;head>
    &lt;script src="js/Z.min.js">&lt;/script>
&lt;/head>
&lt;body>
	&lt;h1>Counter Demo&lt;/h1>
    &lt;button onclick='Z.update("count", {data: Z.count - 1})'>-&lt;/button>
    &lt;span id="output">&lt;/span>
    &lt;button onclick='Z.update("count", {data: Z.count + 1})'>+&lt;/button>
    &lt;script>
      Z.mount({
        key: "count",
        render: function() {
          return Z.count;
        },
        inner: document.getElementById("output"),
        data: 0
      })
    &lt;/script>
&lt;/body></code></pre><h3>Todo List Demo</h3><h4>view <a href="demos/todo">live</a> version</h4><pre><code class="language-html">&lt;head>
    &lt;script src="js/Z.min.js">&lt;/script>
&lt;/head>
&lt;body>
    &lt;h1>Todo List Demo&lt;/h1>
    &lt;div id="todo-list">&lt;/div>
    &lt;div id="todo-add">&lt;/div>
    &lt;script>
      Z.mount({
        key: "todos",
        render: function() {
          return Z.todos.map(function(todo, index) {
            return `
              &lt;div>
                &lt;span>${todo}&lt;/span>
                &lt;button onclick="Z.todos.splice(${index}, 1); Z.update('todos', {data: Z.todos})">remove&lt;/button>
              &lt;/div>
            `;
          }).join("");
        },
        inner: document.getElementById("todo-list"),
        data: []
      });

      Z.mount({
        render: function() {
          return `
            &lt;input id="task" type="text" placeholder="add task" />
            &lt;button>Add&lt;/button>
          `;
        },
        after: function() {
          document.querySelector("#task + button").addEventListener("click", function() {
            var task = document.getElementById("task");
            Z.todos.push(task.value);
            Z.update("todos", {
              data: Z.todos
            });
            task.value = "";
          });
        },
        outer: document.getElementById("todo-add")
      });      
    &lt;/script>
&lt;/body></code></pre><h3>Shop Demo</h3><h4>view <a href="demos/shop">live</a> version</h4><pre><code class="language-html">&lt;head>
    &lt;script src="js/Z.min.js">&lt;/script>
    &lt;link rel="stylesheet" type="text/css" href="css/shop.css" />
&lt;/head>
&lt;body>
    &lt;div id="basket">&lt;/div>
    &lt;div id="products">&lt;/div>
    &lt;div id="view">&lt;/div>
    &lt;script>

    Z.mount({
      key: "basket",
      render: function() {
        var total = Z.basket.products.reduce(function(acc, current) {
          return acc + current.quantity * current.price;
        }, 0);

        return Z.basket.products.length
          ? Z.basket.products
              .map(function(product, index) {
                return `
                  &lt;div>
                      &lt;span>${
                        product.name
                      }&lt;/span> &lt;span>&lt;button onclick="Z.basket.adjustCart(${index}, -1)">-&lt;/button> &lt;span>${product.quantity}&lt;/span> &lt;button onclick="Z.basket.adjustCart(${index}, 1)">+&lt;/button>&lt;/span> &lt;span>${(product.price * product.quantity).toFixed(2)}&lt;/span>
                  &lt;/div>
                `;
              })
              .join("") +
              `&lt;div>
                &lt;span>Total: ${total.toFixed(2)}&lt;/span>
              &lt;/div>
              `
          : "";
      },
      inner: document.getElementById("basket"),
      before: function() {},
      data: {
        products: JSON.parse(localStorage.getItem("basket")) || [],
        update: function() {
          localStorage.setItem("basket", JSON.stringify(this.products));
          Z.update("basket", {
            data: this
          });
          Z.update("view");
        },

        adjustCart: function(index, increment) {
          Z.basket.products[index].quantity += increment;
          if (!Z.basket.products[index].quantity) {
            Z.basket.products.splice(index, 1);
          }
          Z.basket.update();
        },

        addToBasket: function(item) {
          var basketObj = {
            name: item.name,
            price: item.price
          };

          var cartContainsItem = Z.basket.products.some(function(product, index) {
            if (product.name === basketObj.name) {
              product.quantity = product.quantity + 1;
              return true;
            }
          });

          if (!cartContainsItem) {
            basketObj.quantity = 1;
            Z.basket.products.push(basketObj);
          }
          Z.basket.update();
        }
      }
    });

    Z.mount({
      key: "products",
      render: function() {
        return Z.products
          .map(function(product, index) {
            return `
            &lt;div class="product" onclick='Z.update("view", {data:Z.products[${index}]})'>
                &lt;h2>${product.name}&lt;/h2>
                &lt;img src="images/${product.image}" width="200">
                &lt;span>${product.price} €&lt;/span>
            &lt;/div>
          `;
          })
          .join("");
      },
      inner: document.getElementById("products"),
      data: "json/products.json"
    });

    Z.mount({
      key: "view",
      render: function() {
        var btn = `&lt;button onclick="Z.basket.addToBasket(Z.view)">Add To Cart&lt;/button>`;
        Z.basket.products.forEach(function(product, index) {
          if (product.name === Z.view.name) {
            btn = `&lt;button onclick="Z.basket.adjustCart(${index}, -1)">-&lt;/button> &lt;span>${product.quantity}&lt;/span> &lt;button onclick="Z.basket.adjustCart(${index}, 1)">+&lt;/button>`;
          }
        });
        
        return Z.view.name
          ? `
          &lt;div class="view-modal">
            &lt;div class="view">
                &lt;button onclick='Z.update("view", {data:{}})'>close&lt;/button>
                &lt;h3>${Z.view.name}&lt;/h3>
                &lt;img src="images/${Z.view.image}" width="250">
                &lt;p>${Z.view.price} €&lt;/p>
                ${btn}
            &lt;/div>
          &lt;/div>
          `
          : "";
      },
      inner: document.getElementById("view"),
      data: {}
    });    
    &lt;/script>
&lt;/body></code></pre><br><br><script src="js/prism.js"></script><script async defer="defer" src="https://buttons.github.io/buttons.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-36765884-7"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-36765884-7")</script></body></html>