"use strict";var ENV=ENV||function(){var s,e,l=0;function o(e){e=e||{};var a=15*Math.random();return e.elapsed=a,e.formatElapsed=function(e){return str=parseFloat(e).toFixed(2),60<e&&(minutes=Math.floor(e/60),comps=(e%60).toFixed(2).split("."),seconds=comps[0].lpad("0",2),ms=comps[1],str=minutes+":"+seconds+"."+ms),str}(a),e.elapsedClassName=function(e){var a="Query elapsed";return a+=10<=e?" warn_long":1<=e?" warn":" short"}(a),e.query="SELECT blah FROM something",e.waiting=Math.random()<.5,Math.random()<.2&&(e.query="<IDLE> in transaction"),Math.random()<.1&&(e.query="vacuum"),e}function m(e){if(!e)return{query:"***",formatElapsed:"",elapsedClassName:""};e.formatElapsed="",e.elapsedClassName="",e.query="",e.elapsed=null,e.waiting=null}function n(e,a,t){var r=Math.floor(10*Math.random()+1);if((e=e||{}).lastMutationId=t,e.nbQueries=r,e.lastSample||(e.lastSample={}),e.lastSample.topFiveQueries||(e.lastSample.topFiveQueries=[]),a){if(!e.lastSample.queries){e.lastSample.queries=[];for(var s=0;s<12;s++)e.lastSample.queries[s]=m()}for(var l in e.lastSample.queries){var n=e.lastSample.queries[l];l<=r?o(n):m(n)}}else{e.lastSample.queries=[];for(l=0;l<12;l++)if(l<r){n=o(m());e.lastSample.queries.push(n)}else e.lastSample.queries.push(m())}for(var u=0;u<5;u++){var i=e.lastSample.queries[u];e.lastSample.topFiveQueries[u]=i}return e.lastSample.nbQueries=r,e.lastSample.countClassName=function(e){var a="label";return a+=20<=e?" label-important":10<=e?" label-warning":" label-success"}(r),e}(e=String.prototype).lpad||(e.lpad=function(e,a){return e.repeat((a-this.length)/e.length).concat(this)});var a=.5;var t=document.querySelector("body"),r=t.firstChild,u=document.createElement("div");u.style.cssText="display: flex";var i=document.createElement("input"),p=document.createElement("label");return p.innerHTML="mutations : "+(100*a).toFixed(0)+"%",p.id="ratioval",i.setAttribute("type","range"),i.style.cssText="margin-bottom: 10px; margin-top: 5px",i.addEventListener("change",function(e){ENV.mutations(e.target.value/100),document.querySelector("#ratioval").innerHTML="mutations : "+(100*ENV.mutations()).toFixed(0)+"%"}),u.appendChild(p),u.appendChild(i),t.insertBefore(u,r),{generateData:function(e){var a=s;if(!e){s=[];for(var t=1;t<=ENV.rows;t++)s.push({dbname:"cluster"+t,query:"",formatElapsed:"",elapsedClassName:""}),s.push({dbname:"cluster"+t+" slave",query:"",formatElapsed:"",elapsedClassName:""})}if(!s){s=[];for(t=1;t<=ENV.rows;t++)s.push({dbname:"cluster"+t}),s.push({dbname:"cluster"+t+" slave"});a=s}for(var t in s){var r=s[t];!e&&a&&a[t]&&(r.lastSample=a[t].lastSample),!r.lastSample||Math.random()<ENV.mutations()?(l+=1,e||(r.lastSample=null),n(r,e,l)):s[t]=a[t]}return!1,{toArray:function(){return s}}},rows:50,timeout:0,mutations:function(e){return e?a=e:a}}}();