"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&exports&&"string"!=typeof exports.nodeName?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t.Mustache={},e(t.Mustache))}(void 0,function(S){var e=Object.prototype.toString,U=Array.isArray||function(t){return"[object Array]"===e.call(t)};function c(t){return"function"==typeof t}function T(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function l(t,e){return null!=t&&"object"==_typeof(t)&&e in t}var j=RegExp.prototype.test,_=/\S/;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},V=/\s*/,C=/\s+/,O=/\s*=/,P=/\s*\}/,A=/#|\^|\/|>|\{|&|=|!/;function I(t){this.string=t,this.tail=t,this.pos=0}function s(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function t(){this.cache={}}I.prototype.eos=function(){return""===this.tail},I.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},I.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},s.prototype.push=function(t){return new s(t,this)},s.prototype.lookup=function(t){var e,n,r,o=this.cache;if(o.hasOwnProperty(t))e=o[t];else{for(var i,s,a,u=this,p=!1;u;){if(0<t.indexOf("."))for(i=u.view,s=t.split("."),a=0;null!=i&&a<s.length;)a===s.length-1&&(p=l(i,s[a])||(n=i,r=s[a],null!=n&&"object"!=_typeof(n)&&n.hasOwnProperty&&n.hasOwnProperty(r))),i=i[s[a++]];else i=u.view[t],p=l(u.view,t);if(p){e=i;break}u=u.parent}o[t]=e}return c(e)&&(e=e.call(this.view)),e},t.prototype.clearCache=function(){this.cache={}},t.prototype.parse=function(t,E){var e=this.cache,n=t+":"+(E||S.tags).join(":"),r=e[n];return null==r&&(r=e[n]=function(t){if(!t)return[];var e,n,r,o,i,s,a=[],u=[],p=[],c=!1,l=!1;function f(){if(c&&!l)for(;p.length;)delete u[p.pop()];else p=[];l=c=!1}function h(t){if("string"==typeof t&&(t=t.split(C,2)),!U(t)||2!==t.length)throw new Error("Invalid tags: "+t);e=new RegExp(T(t[0])+"\\s*"),n=new RegExp("\\s*"+T(t[1])),r=new RegExp("\\s*"+T("}"+t[1]))}h(E||S.tags);for(var y,d,g,v,w,b,m=new I(t);!m.eos();){if(y=m.pos,g=m.scanUntil(e))for(var x=0,k=g.length;x<k;++x)o=v=g.charAt(x),s=i=void 0,i=_,s=o,j.call(i,s)?l=!0:p.push(u.length),u.push(["text",v,y,y+1]),y+=1,"\n"===v&&f();if(!m.scan(e))break;if(c=!0,d=m.scan(A)||"name",m.scan(V),"="===d?(g=m.scanUntil(O),m.scan(O),m.scanUntil(n)):"{"===d?(g=m.scanUntil(r),m.scan(P),m.scanUntil(n),d="&"):g=m.scanUntil(n),!m.scan(n))throw new Error("Unclosed tag at "+m.pos);if(w=[d,g,y,m.pos],u.push(w),"#"===d||"^"===d)a.push(w);else if("/"===d){if(!(b=a.pop()))throw new Error('Unopened section "'+g+'" at '+y);if(b[1]!==g)throw new Error('Unclosed section "'+b[1]+'" at '+y)}else"name"===d||"{"===d||"&"===d?l=!0:"="===d&&h(g)}if(b=a.pop())throw new Error('Unclosed section "'+b[1]+'" at '+m.pos);return function(t){for(var e,n=[],r=n,o=[],i=0,s=t.length;i<s;++i)switch((e=t[i])[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":o.pop()[5]=e[2],r=0<o.length?o[o.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],o=0,i=t.length;o<i;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(u))}(t)),r},t.prototype.render=function(t,e,n,r){var o=this.parse(t,r),i=e instanceof s?e:new s(e);return this.renderTokens(o,i,n,t,r)},t.prototype.renderTokens=function(t,e,n,r,o){for(var i,s,a,u="",p=0,c=t.length;p<c;++p)a=void 0,"#"===(s=(i=t[p])[0])?a=this.renderSection(i,e,n,r):"^"===s?a=this.renderInverted(i,e,n,r):">"===s?a=this.renderPartial(i,e,n,o):"&"===s?a=this.unescapedValue(i,e):"name"===s?a=this.escapedValue(i,e):"text"===s&&(a=this.rawValue(i)),void 0!==a&&(u+=a);return u},t.prototype.renderSection=function(t,e,n,r){var o=this,i="",s=e.lookup(t[1]);if(s){if(U(s))for(var a=0,u=s.length;a<u;++a)i+=this.renderTokens(t[4],e.push(s[a]),n,r);else if("object"==_typeof(s)||"string"==typeof s||"number"==typeof s)i+=this.renderTokens(t[4],e.push(s),n,r);else if(c(s)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(e.view,r.slice(t[3],t[5]),function(t){return o.render(t,e,n)}))&&(i+=s)}else i+=this.renderTokens(t[4],e,n,r);return i}},t.prototype.renderInverted=function(t,e,n,r){var o=e.lookup(t[1]);if(!o||U(o)&&0===o.length)return this.renderTokens(t[4],e,n,r)},t.prototype.renderPartial=function(t,e,n,r){if(n){var o=c(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o,r),e,n,o):void 0}},t.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},t.prototype.escapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return S.escape(n)},t.prototype.rawValue=function(t){return t[1]},S.name="mustache.js",S.version="3.0.1",S.tags=["{{","}}"];var i=new t;return S.clearCache=function(){return i.clearCache()},S.parse=function(t,e){return i.parse(t,e)},S.render=function(t,e,n,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(U(o=t)?"array":_typeof(o))+'" was given as the first argument for mustache#render(template, view, partials)');var o;return i.render(t,e,n,r)},S.to_html=function(t,e,n,r){var o=S.render(t,e,n);if(!c(r))return o;r(o)},S.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return n[t]})},S.Scanner=I,S.Context=s,S.Writer=t,S});